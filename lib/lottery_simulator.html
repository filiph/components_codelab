<h1>Lottery</h1>

<info-section></info-section>

<h2>Simulation</h2>

<scores-component [(cash)]="cash" [(altCash)]="altCash"></scores-component>

<br>

<p>{{ currentDay }}</p>
<material-progress [(activeProgress)]="progress"></material-progress>

<div class="controls">
    <material-fab raised (trigger)="play()"
                  [disabled]="endOfDays || inProgress">
        <glyph icon="play_arrow"></glyph>
    </material-fab>

    <material-fab mini raised (trigger)="step()"
                  [disabled]="endOfDays || inProgress">
        <glyph icon="skip_next"></glyph>
    </material-fab>

    <material-fab mini raised (trigger)="pause()"
                  [disabled]="!inProgress">
        <glyph icon="pause"></glyph>
    </material-fab>

    <material-fab mini raised (trigger)="reset()">
        <glyph icon="replay"></glyph>
    </material-fab>
</div>

<material-toggle label="Go faster" [(checked)]="fastEnabled"></material-toggle>

<br>



<br>

<!-- TODO: use stats instead: losing tickets: 213, $2 win: 2, ... -->

<ul>
    <li *ngFor="let key of winningsMap.keys">
        <span *ngIf="key == 0">
            Lost &mdash;
            {{ winningsMap[key] }} time{{ winningsMap[key] > 1 ? 's' : '' }}.
        </span>
        <span *ngIf="key > 0">
            Won ${{ key }} &mdash;
            {{ winningsMap[key] }} time{{ winningsMap[key] > 1 ? 's' : '' }}.
        </span>

    </li>
</ul>

<ul>
    <li *ngFor="let ticket of latestTickets; trackBy:trackByTickets">
        ${{ ticket.value }}
        <span [ngSwitch]="ticket.value">
            <span *ngSwitchWhen="0">Lose</span>
            <span *ngSwitchDefault>Win</span>
        </span>
    </li>
</ul>

<h2>Settings</h2>

<settings-component [(settings)]="settings"
                    (settingsChanged)="updateFromSettings()">
</settings-component>